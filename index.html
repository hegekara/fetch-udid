<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iOS UDID Ã–ÄŸren</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* --- Temel ve Mevcut Stiller --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #151a36;
            --accent-primary: #00d9ff;
            --accent-secondary: #0066ff;
            --text-primary: #ffffff;
            --text-secondary: #a0a8c9;
            --success: #00ff88;
            --card-bg: rgba(21, 26, 54, 0.6);
        }
        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        body::before {
            content: ''; position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle at 20% 30%, rgba(0, 217, 255, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(0, 102, 255, 0.15) 0%, transparent 50%);
            animation: gradientShift 20s ease infinite; pointer-events: none; z-index: 0;
        }
        @keyframes gradientShift { 0%, 100% { transform: translate(0, 0) rotate(0deg); } 50% { transform: translate(5%, 5%) rotate(5deg); } }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; position: relative; z-index: 1; }
        
        /* Header & Logo */
        header { text-align: center; padding: 4rem 0 3rem; animation: fadeInDown 0.8s ease; }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        .logo { display: inline-flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }
        .logo-icon {
            width: 60px; height: 60px; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 16px; display: flex; align-items: center; justify-content: center;
            font-family: 'JetBrains Mono', monospace; font-weight: 700; font-size: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 217, 255, 0.3); animation: pulse 3s ease-in-out infinite;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); box-shadow: 0 8px 32px rgba(0, 217, 255, 0.3); } 50% { transform: scale(1.05); box-shadow: 0 12px 40px rgba(0, 217, 255, 0.5); } }
        h1 { font-size: 3.5rem; font-weight: 700; background: linear-gradient(135deg, var(--accent-primary), #ffffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.5rem; line-height: 1.2; }
        .subtitle { font-size: 1.25rem; color: var(--text-secondary); max-width: 600px; margin: 0 auto; }

        /* Kartlar */
        .main-card {
            background: var(--card-bg); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px; padding: 3rem; margin: 2rem 0; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 0.8s ease 0.2s both;
        }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* YÃ¶ntem SeÃ§iciler */
        .method-selector { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
        .method-card {
            background: rgba(255, 255, 255, 0.03); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 16px;
            padding: 2rem; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .method-card:hover { border-color: var(--accent-primary); transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0, 217, 255, 0.2); }
        .method-icon { font-size: 2.5rem; margin-bottom: 1rem; }
        .method-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
        .method-desc { color: var(--text-secondary); line-height: 1.6; }

        /* Butonlar */
        .primary-button {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: var(--text-primary);
            border: none; padding: 1.25rem 3rem; font-size: 1.125rem; font-weight: 600; border-radius: 12px;
            cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.75rem;
            box-shadow: 0 8px 24px rgba(0, 217, 255, 0.3); margin-top: 1rem;
        }
        .primary-button:hover { transform: translateY(-2px); box-shadow: 0 12px 32px rgba(0, 217, 255, 0.5); }

        /* Modal Stilleri */
        .modal {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 14, 39, 0.95); backdrop-filter: blur(10px); z-index: 1000;
            align-items: center; justify-content: center; padding: 2rem; animation: fadeIn 0.3s ease;
        }
        .modal.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content {
            background: var(--bg-secondary); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px;
            padding: 3rem; max-width: 600px; width: 100%; position: relative; animation: slideUp 0.4s ease;
            max-height: 90vh; overflow-y: auto; /* Uzun iÃ§erikler iÃ§in scroll */
        }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .close-button {
            position: absolute; top: 1.5rem; right: 1.5rem; background: none; border: none; color: var(--text-secondary);
            font-size: 1.5rem; cursor: pointer; width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; z-index: 10;
        }
        .close-button:hover { background: rgba(255, 255, 255, 0.1); color: var(--text-primary); }

        /* --- Result Modal Ä°Ã§in Ã–zel Stiller (Result.html'den taÅŸÄ±ndÄ±) --- */
        .success-icon {
            width: 80px; height: 80px; background: linear-gradient(135deg, var(--success), #00cc70);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem; margin: 0 auto 1.5rem; box-shadow: 0 10px 40px rgba(0, 255, 136, 0.3);
            animation: successPulse 2s ease-in-out infinite;
        }
        @keyframes successPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        .info-row {
            background: rgba(255, 255, 255, 0.03); border-left: 3px solid var(--accent-primary);
            padding: 1rem; border-radius: 12px; display: flex; flex-direction: column;
            gap: 0.5rem; margin-bottom: 1rem; transition: all 0.3s ease;
        }
        .info-row:hover { background: rgba(255, 255, 255, 0.06); transform: translateX(5px); }
        .info-label { font-weight: 600; color: var(--accent-primary); font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; text-transform: uppercase; }
        .info-value-container { display: flex; gap: 0.5rem; align-items: center; }
        .info-value {
            font-family: 'JetBrains Mono', monospace; font-size: 0.95rem; color: var(--text-primary);
            background: rgba(0, 0, 0, 0.3); padding: 0.5rem 1rem; border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1); flex: 1; word-break: break-all;
        }
        .copy-btn-mini {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: none; color: white; width: 36px; height: 36px; border-radius: 8px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; flex-shrink: 0;
        }
        .copy-btn-mini:hover { transform: scale(1.05); }

        /* Steps & Footer */
        .steps { margin-top: 2rem; }
        .step { display: flex; gap: 1.5rem; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .step:last-child { border-bottom: none; }
        .step-number { flex-shrink: 0; width: 40px; height: 40px; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-family: 'JetBrains Mono', monospace; }
        
        footer { text-align: center; padding: 3rem 0 2rem; color: var(--text-secondary); font-size: 0.9rem; }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .main-card { padding: 2rem; }
            .method-selector { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">UD</div>
            </div>
            <h1>iOS UDID Ã–ÄŸren</h1>
            <p class="subtitle">CihazÄ±nÄ±zÄ±n benzersiz tanÄ±mlayÄ±cÄ±sÄ±nÄ± (UDID) hÄ±zlÄ± ve kolay bir ÅŸekilde Ã¶ÄŸrenin</p>
        </header>

        <div class="main-card">
            <div class="method-selector">
                <div class="method-card" onclick="showProfileMethod()">
                    <div class="method-icon">ğŸ“±</div>
                    <h3 class="method-title">Profil ile Al</h3>
                    <p class="method-desc">En hÄ±zlÄ± yÃ¶ntem. Bir profil yÃ¼kleyerek UDID'nizi anÄ±nda Ã¶ÄŸrenin.</p>
                </div>

                <div class="method-card" onclick="showFinderMethod()">
                    <div class="method-icon">ğŸ’»</div>
                    <h3 class="method-title">Finder ile Al</h3>
                    <p class="method-desc">Mac kullanÄ±cÄ±larÄ± iÃ§in. CihazÄ±nÄ±zÄ± baÄŸlayarak Finder Ã¼zerinden Ã¶ÄŸrenin.</p>
                </div>

                <div class="method-card" onclick="showXcodeMethod()">
                    <div class="method-icon">ğŸ› ï¸</div>
                    <h3 class="method-title">Xcode ile Al</h3>
                    <p class="method-desc">GeliÅŸtiriciler iÃ§in. Xcode'u kullanarak UDID'yi alÄ±n.</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <button class="primary-button" onclick="downloadProfile()">
                    <span>ğŸ“¥</span>
                    <span>Profil Ä°ndir (Ã–nerilen)</span>
                </button>
            </div>
        </div>

        <footer>
            <p>iOS UDID Ã–ÄŸrenme AracÄ± â€¢ Made with â¤ï¸</p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem;">Gizlilik odaklÄ± tasarÄ±m - HiÃ§bir veri saklanmaz</p>
        </footer>
    </div>

    <div id="profileModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('profileModal')">âœ•</button>
            <h2 style="margin-bottom: 1rem;">Profil ile UDID Alma</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Profili Ä°ndirin</h3>
                        <p>AÅŸaÄŸÄ±daki butona tÄ±klayarak .mobileconfig dosyasÄ±nÄ± indirin.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Ayarlar'a Gidin</h3>
                        <p>Telefonunuzda Ayarlar > Profil Ä°ndirildi kÄ±smÄ±na gidip profili yÃ¼kleyin.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Otomatik YÃ¶nlendirme</h3>
                        <p>Profil yÃ¼klendikten sonra bu sayfaya geri dÃ¶neceksiniz ve UDID'niz ekranda belirecek.</p>
                    </div>
                </div>
            </div>
            <button class="primary-button" onclick="downloadProfile(); closeModal('profileModal');" style="width: 100%; justify-content: center; margin-top: 1rem;">
                <span>Profil Ä°ndir</span>
            </button>
        </div>
    </div>

    <div id="resultModal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <button class="close-button" onclick="closeModal('resultModal'); clearUrlParams();">âœ•</button>
            
            <div class="success-icon">âœ“</div>
            <h2 style="margin-bottom: 0.5rem; color: var(--success);">BaÅŸarÄ±lÄ±!</h2>
            <p style="color: var(--text-secondary); margin-bottom: 2rem;">Cihaz bilgileriniz aÅŸaÄŸÄ±dadÄ±r.</p>

            <div id="deviceResultsContainer" style="text-align: left;">
                </div>

            <button class="primary-button" onclick="copyAllInfo()" style="width: 100%; justify-content: center; margin-top: 1.5rem;">
                <span>ğŸ“‹ TÃ¼mÃ¼nÃ¼ Kopyala</span>
            </button>
        </div>
    </div>

    <div id="finderModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('finderModal')">âœ•</button>
            <h2 style="margin-bottom: 1rem;">Finder ile UDID Alma (macOS)</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>CihazÄ± BaÄŸlayÄ±n</h3>
                        <p>iOS cihazÄ±nÄ±zÄ± USB kablosu ile Mac'inize baÄŸlayÄ±n.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Finder'Ä± AÃ§Ä±n</h3>
                        <p>Finder'da sol kenar Ã§ubuÄŸundan cihazÄ±nÄ±zÄ± seÃ§in.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Seri NumarasÄ±na TÄ±klayÄ±n</h3>
                        <p>Cihaz adÄ±nÄ±n altÄ±ndaki "Seri NumarasÄ±" yazÄ±sÄ±na tÄ±kladÄ±kÃ§a UDID gÃ¶rÃ¼necektir.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="xcodeModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('xcodeModal')">âœ•</button>
            <h2 style="margin-bottom: 1rem;">Xcode ile UDID Alma</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Devices and Simulators</h3>
                        <p>Xcode > Window > Devices and Simulators menÃ¼sÃ¼nÃ¼ aÃ§Ä±n.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Identifier</h3>
                        <p>BaÄŸlÄ± cihazÄ±nÄ±zÄ± seÃ§in. "Identifier" alanÄ±ndaki kod sizin UDID numaranÄ±zdÄ±r.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Modal Kontrolleri
        function showProfileMethod() { document.getElementById('profileModal').classList.add('active'); }
        function showFinderMethod() { document.getElementById('finderModal').classList.add('active'); }
        function showXcodeMethod() { document.getElementById('xcodeModal').classList.add('active'); }
        function closeModal(modalId) { document.getElementById(modalId).classList.remove('active'); }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }

        // --- Ã–NEMLÄ°: URL Parametre KontrolÃ¼ ve SonuÃ§ GÃ¶sterimi ---
        window.addEventListener('load', () => {
            const params = new URLSearchParams(window.location.search);
            // EÄŸer URL'de UDID varsa, iÅŸlem tamamlanmÄ±ÅŸ demektir.
            if (params.has('UDID') || params.has('udid')) {
                // SonuÃ§ modalÄ±nÄ± hazÄ±rla ve aÃ§
                populateResultModal(params);
                document.getElementById('resultModal').classList.add('active');
                
            }
        });

        function populateResultModal(params) {
            const container = document.getElementById('deviceResultsContainer');
            container.innerHTML = ''; // Temizle

            const labels = {
                'UDID': 'UDID',
                'IMEI': 'IMEI',
                'PRODUCT': 'Cihaz Modeli',
                'VERSION': 'iOS SÃ¼rÃ¼mÃ¼',
                'SERIAL': 'Seri No'
            };

            for (const [key, value] of params) {
                const upperKey = key.toUpperCase();
                // Sadece bildiÄŸimiz etiketleri veya hepsini gÃ¶sterebiliriz
                if (labels[upperKey] || true) { 
                    const labelText = labels[upperKey] || upperKey;
                    
                    const rowHtml = `
                        <div class="info-row">
                            <div class="info-label">${labelText}</div>
                            <div class="info-value-container">
                                <div class="info-value">${value}</div>
                                <button class="copy-btn-mini" onclick="copyText('${value}', this)">ğŸ“‹</button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += rowHtml;
                }
            }
        }

        function copyText(text, btn) {
            navigator.clipboard.writeText(text).then(() => {
                const original = btn.innerHTML;
                btn.innerHTML = 'âœ“';
                setTimeout(() => btn.innerHTML = original, 1500);
            });
        }

        function copyAllInfo() {
            const params = new URLSearchParams(window.location.search);
            let text = "";
            for (const [key, value] of params) {
                text += `${key}: ${value}\n`;
            }
            navigator.clipboard.writeText(text).then(() => alert('TÃ¼m bilgiler kopyalandÄ±!'));
        }

        function clearUrlParams() {
            // Modal kapandÄ±ÄŸÄ±nda URL'i temizle
            window.history.replaceState({}, document.title, window.location.pathname);
        }

        // --- Profil Ä°ndirme ---
        function downloadProfile() {
            
            const currentDomain = window.location.origin;
            const returnURL = currentDomain + '/index.html'; 
            
            const profileContent = `<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>PayloadContent</key>
    <dict>
        <key>URL</key>
        <string>${returnURL}</string>
        <key>DeviceAttributes</key>
        <array>
            <string>UDID</string>
            <string>IMEI</string>
            <string>ICCID</string>
            <string>VERSION</string>
            <string>PRODUCT</string>
            <string>SERIAL</string>
        </array>
    </dict>
    <key>PayloadOrganization</key>
    <string>UDID Finder</string>
    <key>PayloadDisplayName</key>
    <string>UDID Bilgilerini GÃ¶rÃ¼ntÃ¼le</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>PayloadUUID</key>
    <string>${generateUUID()}</string>
    <key>PayloadIdentifier</key>
    <string>com.udid.profile</string>
    <key>PayloadDescription</key>
    <string>Bu profil cihazÄ±nÄ±zÄ±n UDID ve diÄŸer bilgilerini gÃ¶stermek iÃ§in kullanÄ±lÄ±r.</string>
    <key>PayloadType</key>
    <string>Profile Service</string>
</dict>
</plist>`;

            const blob = new Blob([profileContent], { type: 'application/x-apple-aspen-config' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'udid.mobileconfig';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }
    </script>
</body>
</html>
